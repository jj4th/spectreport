function buildRepoUrl(e,r,t,s){var i="https://";return t&&s&&(i+=t+":"+s+"@"),i+="api.github.com/repos/"+e+"/issues/"+r+"/comments"}function githubBody(e,r){var t=e.tests-e.failures-e.pending,s="";return s=e.failures>0?"### Test FAILED!! :(###\nLink: "+r+"\n**Pass:** *"+t+"*  |  **Pend:** *"+e.pending+"*  |  **Fail:** *"+e.failures+"*":"#### Test passed :) ####\nLink: "+r+"\n**Pass:** *"+t+"*  |  **Pend:** *"+e.pending+"*"}function SpectreportGithub(e,r){var t=buildRepoUrl(e.repo,e.id,e.user,e.pass),s=r.summary();if(0===s.failures&&e.onlyFail)return e.quiet||console.log("Github : No failures reported."),!1;var i={headers:{"Content-Type":"application/json","User-Agent":"git CL - node"},json:{body:githubBody(s,e.reportUrl)}};if(e.apiKey)i.headers.Authorization="token "+apiKey;else if(!e.user||!e.pass)throw new Error("No valid credentials specified.");try{var o=request("POST",t,i);o.getBody("utf-8")}catch(n){throw n.message="Github : Error while posting results\n"+n.message,n}return e.quiet||console.log("Github : Results reported to github!"),!0}var request=require("sync-request");module.exports=SpectreportGithub;